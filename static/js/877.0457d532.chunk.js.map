{"version":3,"file":"static/js/877.0457d532.chunk.js","mappings":"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","sources":["Components/Forms/PaperForm.js"],"sourcesContent":["import { useState, useEffect, useContext } from \"react\";\nimport axios from \"../../config/api/axios\";\nimport { useNavigate, Navigate } from \"react-router-dom\";\nimport UserContext from \"../../Hooks/UserContext\";\nimport { toast } from \"react-toastify\";\nimport { FaPlus } from \"react-icons/fa\";\nimport ErrorStrip from \"../ErrorStrip\";\n\nconst PaperForm = () => {\n  const { user } = useContext(UserContext);\n  const [newPaper, setNewPaper] = useState({\n    department: user.department,\n    paper: \"\",\n    year: \"2023\",\n    students: [],\n    semester: \"Select Semester\",\n    teacher: \"\",\n  });\n  const [teachers, setTeachers] = useState([]);\n  const [error, setError] = useState(\"\");\n  const navigate = useNavigate();\n\n  // Fetch staffs\n  useEffect(() => {\n    const getTeachers = async () => {\n      const list = await axios.get(\"/staff/list/\" + user.department);\n      setTeachers(list.data);\n    };\n    getTeachers();\n  }, [user]);\n\n  const addPaper = async (e) => {\n    e.preventDefault();\n    try {\n      const response = await axios.post(\"paper\", JSON.stringify(newPaper));\n      navigate(\"./..\");\n      toast.success(response.data.message);\n    } catch (err) {\n      setError(err);\n    }\n  };\n\n  const handleFormChange = (e) => {\n    setNewPaper({\n      ...newPaper,\n      [e.target.id]: e.target.value,\n    });\n  };\n\n  return (\n    <>\n      {user.role === \"HOD\" ? (\n        <main className=\"paper\">\n          <h2 className=\"mb-2 mt-3 whitespace-break-spaces text-4xl font-bold text-violet-950 underline decoration-inherit decoration-2 underline-offset-4 dark:mt-0 dark:text-slate-400 md:text-6xl\">\n            Add Paper\n          </h2>\n          <form className=\"w-full md:w-1/3\">\n            <label htmlFor=\"department\">Department:</label>\n            <input\n              className=\"mb-4 block h-10 w-full rounded-md border-[1.5px] border-solid border-slate-400 p-1 pl-2 outline-none selection:border-slate-200 focus:border-violet-900 dark:border-slate-200 dark:caret-inherit dark:focus:border-violet-400 dark:active:border-violet-400\"\n              name=\"department\"\n              type=\"text\"\n              required\n              id=\"department\"\n              value={newPaper.department}\n              disabled\n            />\n            <label htmlFor=\"paper\">Paper:</label>\n            <input\n              className=\"mb-4 block h-10 w-full rounded-md border-[1.5px] border-solid border-slate-400 p-1 pl-2 outline-none selection:border-slate-200 focus:border-violet-900 dark:border-slate-200 dark:caret-inherit dark:focus:border-violet-400 dark:active:border-violet-400\"\n              type=\"text\"\n              name=\"paper\"\n              id=\"paper\"\n              value={newPaper.paper}\n              required\n              onChange={(e) => handleFormChange(e)}\n            />\n            <label htmlFor=\"semester\">Semester:</label>\n            <select\n              className=\"mb-4 block h-10 w-full rounded-md border-[1.5px] border-solid border-slate-400 p-1 pl-2 outline-none selection:border-slate-200 focus:border-violet-900 dark:border-slate-200 dark:caret-inherit dark:focus:border-violet-400 dark:active:border-violet-400\"\n              id=\"semester\"\n              value={newPaper.semester}\n              required\n              onChange={(e) => handleFormChange(e)}\n            >\n              <option defaultValue hidden>\n                Select Semester\n              </option>\n              <option value=\"I\">I</option>\n              <option value=\"II\">II</option>\n              <option value=\"III\">III</option>\n              <option value=\"IV\">IV</option>\n              <option value=\"V\">V</option>\n              <option value=\"VI\">VI</option>\n            </select>\n            <label htmlFor=\"year\">Year:</label>\n            <input\n              className=\"mb-4 block h-10 w-full rounded-md border-[1.5px] border-solid border-slate-400 p-1 pl-2 outline-none selection:border-slate-200 focus:border-violet-900 dark:border-slate-200 dark:caret-inherit dark:focus:border-violet-400 dark:active:border-violet-400\"\n              type=\"number\"\n              min=\"2000\"\n              max=\"2030\"\n              step=\"1\"\n              required\n              id=\"year\"\n              value={newPaper.year}\n              onChange={(e) => handleFormChange(e)}\n            />\n            <label htmlFor=\"teacher\">Teacher:</label>\n            <select\n              className=\"mb-4 block h-10 w-full rounded-md border-[1.5px] border-solid border-slate-400 p-1 pl-2 outline-none selection:border-slate-200 focus:border-violet-900 dark:border-slate-200 dark:caret-inherit dark:focus:border-violet-400 dark:active:border-violet-400\"\n              required\n              id=\"teacher\"\n              name=\"teacher\"\n              value={newPaper.teacher}\n              onChange={(e) => handleFormChange(e)}\n            >\n              <option defaultValue hidden>\n                Select Teacher\n              </option>\n              {teachers?.map((teacher) => (\n                <option key={teacher._id} value={teacher._id}>\n                  {teacher.name}\n                </option>\n              ))}\n            </select>\n            <button\n              className=\"mb-4 flex h-10 w-auto items-center gap-2 rounded-md border-[1.5px] border-solid border-violet-900 bg-slate-800 px-6 py-2 font-semibold tracking-wide text-slate-200 hover:bg-violet-900 focus:bg-violet-900 dark:border-violet-300 dark:bg-violet-900 dark:text-violet-100 dark:hover:bg-slate-900\"\n              type=\"submit\"\n              onClick={(e) => addPaper(e)}\n            >\n              <FaPlus />\n              Add\n            </button>\n          </form>\n          {error ? <ErrorStrip error={error} /> : \"\"}\n        </main>\n      ) : (\n        <Navigate to=\"/\" replace={true} />\n      )}\n    </>\n  );\n};\n\nexport default PaperForm;\n"],"names":["PaperForm","user","useContext","UserContext","newPaper","setNewPaper","useState","department","paper","year","students","semester","teacher","teachers","setTeachers","error","setError","navigate","useNavigate","useEffect","async","list","axios","get","data","getTeachers","handleFormChange","e","_objectSpread","target","id","value","_jsx","_Fragment","children","role","_jsxs","className","htmlFor","name","type","required","disabled","onChange","defaultValue","hidden","min","max","step","map","_id","onClick","preventDefault","response","post","JSON","stringify","toast","success","message","err","addPaper","FaPlus","ErrorStrip","Navigate","to","replace"],"sourceRoot":""}