"use strict";(self.webpackChunkAcademiQ=self.webpackChunkAcademiQ||[]).push([[877],{877:(e,r,t)=>{t.r(r),t.d(r,{default:()=>u});var a=t(555),d=t(43),l=t(527),o=t(216),s=t(53),i=t(42),n=t(369),c=t(769),b=t(579);const u=()=>{const{user:e}=(0,d.useContext)(s.A),[r,t]=(0,d.useState)({department:e.department,paper:"",year:"2023",students:[],semester:"Select Semester",teacher:""}),[u,p]=(0,d.useState)([]),[m,h]=(0,d.useState)(""),x=(0,o.Zp)();(0,d.useEffect)(()=>{(async()=>{const r=await l.A.get("/staff/list/"+e.department);p(r.data)})()},[e]);const v=e=>{t((0,a.A)((0,a.A)({},r),{},{[e.target.id]:e.target.value}))};return(0,b.jsx)(b.Fragment,{children:"HOD"===e.role?(0,b.jsxs)("main",{className:"paper",children:[(0,b.jsx)("h2",{className:"mb-2 mt-3 whitespace-break-spaces text-4xl font-bold text-violet-950 underline decoration-inherit decoration-2 underline-offset-4 dark:mt-0 dark:text-slate-400 md:text-6xl",children:"Add Paper"}),(0,b.jsxs)("form",{className:"w-full md:w-1/3",children:[(0,b.jsx)("label",{htmlFor:"department",children:"Department:"}),(0,b.jsx)("input",{className:"mb-4 block h-10 w-full rounded-md border-[1.5px] border-solid border-slate-400 p-1 pl-2 outline-none selection:border-slate-200 focus:border-violet-900 dark:border-slate-200 dark:caret-inherit dark:focus:border-violet-400 dark:active:border-violet-400",name:"department",type:"text",required:!0,id:"department",value:r.department,disabled:!0}),(0,b.jsx)("label",{htmlFor:"paper",children:"Paper:"}),(0,b.jsx)("input",{className:"mb-4 block h-10 w-full rounded-md border-[1.5px] border-solid border-slate-400 p-1 pl-2 outline-none selection:border-slate-200 focus:border-violet-900 dark:border-slate-200 dark:caret-inherit dark:focus:border-violet-400 dark:active:border-violet-400",type:"text",name:"paper",id:"paper",value:r.paper,required:!0,onChange:e=>v(e)}),(0,b.jsx)("label",{htmlFor:"semester",children:"Semester:"}),(0,b.jsxs)("select",{className:"mb-4 block h-10 w-full rounded-md border-[1.5px] border-solid border-slate-400 p-1 pl-2 outline-none selection:border-slate-200 focus:border-violet-900 dark:border-slate-200 dark:caret-inherit dark:focus:border-violet-400 dark:active:border-violet-400",id:"semester",value:r.semester,required:!0,onChange:e=>v(e),children:[(0,b.jsx)("option",{defaultValue:!0,hidden:!0,children:"Select Semester"}),(0,b.jsx)("option",{value:"I",children:"I"}),(0,b.jsx)("option",{value:"II",children:"II"}),(0,b.jsx)("option",{value:"III",children:"III"}),(0,b.jsx)("option",{value:"IV",children:"IV"}),(0,b.jsx)("option",{value:"V",children:"V"}),(0,b.jsx)("option",{value:"VI",children:"VI"})]}),(0,b.jsx)("label",{htmlFor:"year",children:"Year:"}),(0,b.jsx)("input",{className:"mb-4 block h-10 w-full rounded-md border-[1.5px] border-solid border-slate-400 p-1 pl-2 outline-none selection:border-slate-200 focus:border-violet-900 dark:border-slate-200 dark:caret-inherit dark:focus:border-violet-400 dark:active:border-violet-400",type:"number",min:"2000",max:"2030",step:"1",required:!0,id:"year",value:r.year,onChange:e=>v(e)}),(0,b.jsx)("label",{htmlFor:"teacher",children:"Teacher:"}),(0,b.jsxs)("select",{className:"mb-4 block h-10 w-full rounded-md border-[1.5px] border-solid border-slate-400 p-1 pl-2 outline-none selection:border-slate-200 focus:border-violet-900 dark:border-slate-200 dark:caret-inherit dark:focus:border-violet-400 dark:active:border-violet-400",required:!0,id:"teacher",name:"teacher",value:r.teacher,onChange:e=>v(e),children:[(0,b.jsx)("option",{defaultValue:!0,hidden:!0,children:"Select Teacher"}),null===u||void 0===u?void 0:u.map(e=>(0,b.jsx)("option",{value:e._id,children:e.name},e._id))]}),(0,b.jsxs)("button",{className:"mb-4 flex h-10 w-auto items-center gap-2 rounded-md border-[1.5px] border-solid border-violet-900 bg-slate-800 px-6 py-2 font-semibold tracking-wide text-slate-200 hover:bg-violet-900 focus:bg-violet-900 dark:border-violet-300 dark:bg-violet-900 dark:text-violet-100 dark:hover:bg-slate-900",type:"submit",onClick:e=>(async e=>{e.preventDefault();try{const e=await l.A.post("paper",JSON.stringify(r));x("./.."),i.oR.success(e.data.message)}catch(t){h(t)}})(e),children:[(0,b.jsx)(n.OiG,{}),"Add"]})]}),m?(0,b.jsx)(c.A,{error:m}):""]}):(0,b.jsx)(o.C5,{to:"/",replace:!0})})}}}]);
//# sourceMappingURL=877.0457d532.chunk.js.map