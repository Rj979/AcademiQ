{"version":3,"file":"static/js/983.916a9670.chunk.js","mappings":"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","sources":["Components/Queries/Attendance.js"],"sourcesContent":["import { useState, useContext } from \"react\";\r\nimport axios from \"../../config/api/axios\";\r\nimport UserContext from \"../../Hooks/UserContext\";\r\nimport { FaPlus, FaEdit, FaTrash } from \"react-icons/fa\";\r\nimport { toast } from \"react-toastify\";\r\nimport { TableHeader, RowWithCheckbox } from \"../Table\";\r\nimport ErrorStrip from \"../ErrorStrip\";\r\n\r\n// Dummy students data\r\nconst dummyStudents = [\r\n  { _id: 1, name: 'JANARTHAN S K', roll_no: 'CB.EN.U4CSE22001', present: true },\r\n  { _id: 2, name: 'JEEVAN KRISHNA A', roll_no: 'CB.EN.U4CSE22002', present: true },\r\n  { _id: 3, name: 'JYOTSNA J', roll_no: 'CB.EN.U4CSE22003', present: false },\r\n  { _id: 4, name: 'KAJOL P S', roll_no: 'CB.EN.U4CSE22004', present: true },\r\n  { _id: 5, name: 'KARTHIK S S', roll_no: 'CB.EN.U4CSE22005', present: true },\r\n  { _id: 6, name: 'KIRAN MOHAN M I', roll_no: 'CB.EN.U4CSE22006', present: false },\r\n  { _id: 7, name: 'KRISHNA NANDA R', roll_no: 'CB.EN.U4CSE22007', present: true },\r\n  { _id: 8, name: 'KRISHNA VILAYIL PRINCE', roll_no: 'CB.EN.U4CSE22008', present: true },\r\n  { _id: 9, name: 'LEKSHMI NANDA S', roll_no: 'CB.EN.U4CSE22009', present: true },\r\n  { _id: 10, name: 'MADHUSHA SURESH', roll_no: 'CB.EN.U4CSE22011', present: false },\r\n];\r\n\r\nconst Attendance = () => {\r\n  const { paperList } = useContext(UserContext);\r\n  const [attendance, setAttendance] = useState([]);\r\n  const [paper, setPaper] = useState(\"\");\r\n  const [date, setDate] = useState(\"\");\r\n  const [hour, setHour] = useState(\"\");\r\n  const [error, setError] = useState(\"\");\r\n  const [disabled, setDisabled] = useState(true);\r\n  const [id, setId] = useState(\"\");\r\n\r\n  // Modified fetchAttendance to use dummy data\r\n  const fetchAttendance = async (e) => {\r\n    setAttendance([]);\r\n    setError(\"\");\r\n    e.preventDefault();\r\n    \r\n    if (!paper || !date || !hour) {\r\n      setError(\"Please select paper, date, and hour\");\r\n      return;\r\n    }\r\n\r\n    // Simulate API call with dummy data\r\n    setTimeout(() => {\r\n      setAttendance(dummyStudents);\r\n      setDisabled(false);\r\n      setId(\"dummy_id_\" + Date.now());\r\n      toast.success(\"Attendance data loaded successfully\");\r\n    }, 500);\r\n  };\r\n\r\n  // Modified addAttendance to use dummy data\r\n  const addAttendance = async (e) => {\r\n    e.preventDefault();\r\n    // Simulate API call\r\n    setTimeout(() => {\r\n      toast.success(\"Attendance saved successfully\");\r\n      setDisabled(true);\r\n      setError(\"\");\r\n    }, 500);\r\n  };\r\n\r\n  const deleteAttendance = async (e) => {\r\n    e.preventDefault();\r\n    // Simulate API call\r\n    setTimeout(() => {\r\n      toast.success(\"Attendance deleted successfully\");\r\n      setAttendance([]);\r\n    }, 500);\r\n  };\r\n\r\n  // updating attendance state on \"onChange\" event.\r\n  const handleFormChange = (e) => {\r\n    // the whole thing is a convoluted mess, but it works.\r\n    // if you have an alternative, DM ;).\r\n    const index = parseInt(e.target.id);\r\n    const newStudent = attendance[index];\r\n    newStudent.present = !newStudent.present;\r\n    const newAttendance = attendance.map((student, index) => {\r\n      if (index === parseInt(e.target.id)) return student;\r\n      else return student;\r\n    });\r\n    setAttendance(newAttendance);\r\n  };\r\n\r\n  return (\r\n    <main className=\"attendance\">\r\n      <h2 className=\"mb-2 mt-3 whitespace-break-spaces text-4xl font-bold text-violet-950 underline decoration-inherit decoration-2 underline-offset-4 dark:mt-0 dark:text-slate-400 md:text-6xl\">\r\n        Attendance\r\n      </h2>\r\n      <section className=\"attendance__head\">\r\n        <form className=\"w-full gap-4 accent-violet-900 md:flex \">\r\n          <div className=\"flex w-full flex-col\">\r\n            <label className=\"m-1\" htmlFor=\"paper\">\r\n              Select Paper\r\n            </label>\r\n            <select\r\n              className=\"mb-4 block h-10  rounded-md border-[1.5px] border-solid border-slate-400 p-1 pl-2 outline-none selection:border-slate-200 focus:border-violet-900 dark:border-slate-200 dark:caret-inherit dark:focus:border-violet-400 dark:active:border-violet-400 \"\r\n              name=\"paper\"\r\n              id=\"paper\"\r\n              value={paper}\r\n              required\r\n              onChange={(e) => setPaper(e.target.value)}\r\n            >\r\n              <option defaultValue hidden>\r\n                ---\r\n              </option>\r\n              {paperList.map((paper, index) => (\r\n                <option key={index} value={paper.id}>\r\n                  {paper.name || paper.paper}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n          <div className=\"flex w-full flex-col\">\r\n            <label className=\"m-1\" htmlFor=\"date\">\r\n              Select Date\r\n            </label>\r\n            <input\r\n              className=\"mb-4 block h-10 w-full rounded-md border-[1.5px] border-solid border-slate-400 p-1 pl-2 outline-none selection:border-slate-200 focus:border-violet-900 dark:border-slate-200 dark:caret-inherit dark:focus:border-violet-400 dark:active:border-violet-400\"\r\n              id=\"date\"\r\n              type=\"date\"\r\n              name=\"date\"\r\n              value={date}\r\n              onChange={(e) => setDate(e.target.value)}\r\n            />\r\n          </div>\r\n          <div className=\"flex w-full flex-col\">\r\n            <label className=\"m-1\" htmlFor=\"hour\">\r\n              Select Hour\r\n            </label>\r\n\r\n            <select\r\n              className=\"mb-4 h-10 w-full rounded-md border-[1.5px] border-solid border-slate-400 p-1 pl-2 outline-none selection:border-slate-200 focus:border-violet-900 dark:border-slate-200 dark:caret-inherit dark:focus:border-violet-400 dark:active:border-violet-400\"\r\n              name=\"hour\"\r\n              id=\"hour\"\r\n              value={hour}\r\n              required\r\n              onChange={(e) => setHour(e.target.value)}\r\n            >\r\n              <option defaultValue hidden>\r\n                ---\r\n              </option>\r\n              <option value=\"1\">I</option>\r\n              <option value=\"2\">II</option>\r\n              <option value=\"3\">III</option>\r\n              <option value=\"4\">IV</option>\r\n              <option value=\"5\">V</option>\r\n            </select>\r\n          </div>\r\n          <div className=\"flex items-end\">\r\n            <button\r\n              className=\" mb-4 h-10 rounded-md border-[1.5px] border-solid border-violet-900 bg-slate-800 px-8 py-2 font-semibold tracking-wide text-slate-200 hover:bg-violet-900 focus:bg-violet-900 disabled:cursor-not-allowed dark:border-violet-300 dark:bg-violet-900 dark:text-violet-100 dark:hover:bg-slate-900 md:w-auto\"\r\n              type=\"submit\"\r\n              onClick={(e) => fetchAttendance(e)}\r\n            >\r\n              Fetch\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </section>\r\n      <div>{error ? <ErrorStrip error={error} /> : \"\"}</div>\r\n      <section className=\"attendance__form\">\r\n        <form className=\"w-full\">\r\n          {attendance?.length ? (\r\n            <div className=\"my-4 w-full rounded-md border-2 border-slate-900 dark:border-slate-500 dark:p-[1px] lg:w-1/2\">\r\n              <table className=\"w-full\">\r\n                <TableHeader Headers={[\"Present\", \"Student\"]} />\r\n                <tbody>\r\n                  {attendance?.map((student, index) => (\r\n                    <RowWithCheckbox\r\n                      key={index}\r\n                      keys={index}\r\n                      disabled={disabled}\r\n                      value={student}\r\n                      handleFormChange={handleFormChange}\r\n                    />\r\n                  ))}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n          {attendance.length && disabled ? (\r\n            <div className=\"flex gap-4\">\r\n              <button\r\n                type=\"submit\"\r\n                className=\"mb-4 flex h-10 w-auto items-center gap-2 rounded-md border-[1.5px] border-solid border-violet-900 bg-slate-800 px-6 py-2 font-semibold tracking-wide text-slate-200 hover:bg-violet-900 focus:bg-violet-900 dark:border-violet-300 dark:bg-violet-900 dark:text-violet-100 dark:hover:bg-slate-900\"\r\n                onClick={(e) => setDisabled(false)}\r\n              >\r\n                <FaEdit /> Edit\r\n              </button>\r\n              <button\r\n                type=\"submit\"\r\n                className=\"mb-4 flex h-10 w-auto items-center gap-2 rounded-md border-[1.5px] border-solid border-violet-900 bg-slate-800 px-4 py-2 font-semibold tracking-wide text-slate-200 hover:bg-red-700 focus:bg-violet-900 dark:border-violet-300 dark:bg-violet-900 dark:text-violet-100 dark:hover:bg-red-700\"\r\n                onClick={(e) => deleteAttendance(e)}\r\n              >\r\n                <FaTrash /> Delete\r\n              </button>\r\n            </div>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n          {attendance?.length && !disabled ? (\r\n            <button\r\n              type=\"submit\"\r\n              className=\"mb-4 flex h-10 w-auto items-center gap-2 rounded-md border-[1.5px] border-solid border-violet-900 bg-slate-800 px-4 py-2 font-semibold tracking-wide text-slate-200 hover:bg-violet-900 focus:bg-violet-900 dark:border-violet-300 dark:bg-violet-900 dark:text-violet-100 dark:hover:bg-slate-900 \"\r\n              onClick={(e) => addAttendance(e)}\r\n            >\r\n              <FaPlus /> Save\r\n            </button>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n        </form>\r\n      </section>\r\n    </main>\r\n  );\r\n};\r\nexport default Attendance;\r\n"],"names":["dummyStudents","_id","name","roll_no","present","Attendance","paperList","useContext","UserContext","attendance","setAttendance","useState","paper","setPaper","date","setDate","hour","setHour","error","setError","disabled","setDisabled","id","setId","handleFormChange","e","index","parseInt","target","newStudent","newAttendance","map","student","_jsxs","className","children","_jsx","htmlFor","value","required","onChange","defaultValue","hidden","type","onClick","async","preventDefault","setTimeout","Date","now","toast","success","fetchAttendance","ErrorStrip","length","TableHeader","Headers","RowWithCheckbox","keys","FaEdit","deleteAttendance","FaTrash","addAttendance","FaPlus"],"sourceRoot":""}