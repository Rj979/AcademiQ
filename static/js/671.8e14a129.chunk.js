"use strict";(self.webpackChunkAcademiQ=self.webpackChunkAcademiQ||[]).push([[671],{671:(e,t,s)=>{s.r(t),s.d(t,{default:()=>m});var a=s(43),r=s(53),l=s(216),d=s(527),o=s(369),n=s(42),c=s(657),i=s(769),x=s(229),h=s(579);const m=()=>{const{user:e}=(0,a.useContext)(r.A),[t,s]=(0,a.useState)([]),[m,p]=(0,a.useState)("");(0,a.useEffect)(()=>{(async()=>{try{const t=await d.A.get("staff/approve/"+e.department);s(t.data)}catch(t){p(t)}})()},[e]);return(0,h.jsx)(h.Fragment,{children:"HOD"===e.role?(0,h.jsxs)("main",{className:"staff__approval",children:[(0,h.jsx)("h2",{className:"mb-2 mt-3 whitespace-break-spaces text-4xl font-bold text-violet-950 underline decoration-inherit decoration-2 underline-offset-4 dark:mt-0 dark:text-slate-400 md:text-6xl",children:"Approve Staff"}),(0,h.jsxs)("h3",{className:"text-2xl font-semibold",children:["Department: ",e.department]}),(0,h.jsxs)("form",{children:[t.length?(0,h.jsx)("div",{className:"my-4 w-full overflow-auto rounded-md border-2 border-slate-900 dark:border-slate-500 dark:p-[1px]  ",children:(0,h.jsxs)("table",{className:"w-full",children:[(0,h.jsx)(x.h,{Headers:["Name","Email","Username","Approve","Reject"],AdditionalRowClasses:"text-left",AdditionalHeaderClasses:"last:text-center secondLast"}),(0,h.jsx)("tbody",{children:null===t||void 0===t?void 0:t.map((e,s)=>(0,h.jsxs)("tr",{children:[(0,h.jsx)("td",{className:"border-t-[1px] border-slate-400 p-2",children:e.name}),(0,h.jsx)("td",{className:"border-t-[1px] border-slate-400 p-2",children:e.email}),(0,h.jsx)("td",{className:"border-t-[1px] border-slate-400 p-2",children:e.username}),(0,h.jsx)("td",{className:"border-t-[1px] border-slate-400 p-0",children:(0,h.jsx)("button",{type:"button",id:s,onClick:e=>(async e=>{const s=e.currentTarget.id,a=t[s];a.role="teacher";try{const e=await d.A.patch("/staff/"+a._id,{id:a._id,role:a.role});t.splice(s,1),n.oR.success(e.data.message),p("")}catch(r){p(r)}})(e),className:"m-0 flex h-auto w-full justify-center bg-transparent  py-3 text-xl duration-200 text-violet-400 hover:text-white hover:bg-violet-900 ",children:(0,h.jsx)(o.OiG,{})})}),(0,h.jsx)("td",{className:"border-t-[1px] border-slate-400 p-0",children:(0,h.jsx)("button",{className:"m-0 flex h-auto w-full justify-center bg-transparent  py-3 text-xl duration-200 text-violet-400 hover:text-white hover:bg-red-600 ",type:"button",id:s,onClick:e=>(async e=>{const s=t[e.currentTarget.id]._id;try{const a=await d.A.delete("/staff/"+s);t.splice(e.currentTarget.id,1),n.oR.success(a.data.message,{icon:e=>{let{theme:t,type:s}=e;return(0,h.jsx)(o.qbC,{})}})}catch(a){n.oR.error(a.message)}})(e),children:(0,h.jsx)(o.qbC,{})})})]},s))})]})}):"",!t.length&&!m&&(0,h.jsx)(c.A,{})]}),m?(0,h.jsx)(i.A,{error:m}):""]}):(0,h.jsx)(l.C5,{to:"/dash"})})}}}]);
//# sourceMappingURL=671.8e14a129.chunk.js.map