"use strict";(self.webpackChunkAcademiQ=self.webpackChunkAcademiQ||[]).push([[983],{983:(e,l,t)=>{t.r(l),t.d(l,{default:()=>u});var r=t(43),a=(t(527),t(53)),d=t(369),o=t(42),s=t(229),n=t(769),i=t(579);const c=[{_id:1,name:"JANARTHAN S K",roll_no:"CB.EN.U4CSE22001",present:!0},{_id:2,name:"JEEVAN KRISHNA A",roll_no:"CB.EN.U4CSE22002",present:!0},{_id:3,name:"JYOTSNA J",roll_no:"CB.EN.U4CSE22003",present:!1},{_id:4,name:"KAJOL P S",roll_no:"CB.EN.U4CSE22004",present:!0},{_id:5,name:"KARTHIK S S",roll_no:"CB.EN.U4CSE22005",present:!0},{_id:6,name:"KIRAN MOHAN M I",roll_no:"CB.EN.U4CSE22006",present:!1},{_id:7,name:"KRISHNA NANDA R",roll_no:"CB.EN.U4CSE22007",present:!0},{_id:8,name:"KRISHNA VILAYIL PRINCE",roll_no:"CB.EN.U4CSE22008",present:!0},{_id:9,name:"LEKSHMI NANDA S",roll_no:"CB.EN.U4CSE22009",present:!0},{_id:10,name:"MADHUSHA SURESH",roll_no:"CB.EN.U4CSE22011",present:!1}],u=()=>{const{paperList:e}=(0,r.useContext)(a.A),[l,t]=(0,r.useState)([]),[u,b]=(0,r.useState)(""),[m,p]=(0,r.useState)(""),[x,h]=(0,r.useState)(""),[v,f]=(0,r.useState)(""),[k,N]=(0,r.useState)(!0),[g,j]=(0,r.useState)(""),S=e=>{const r=parseInt(e.target.id),a=l[r];a.present=!a.present;const d=l.map((l,t)=>(parseInt(e.target.id),l));t(d)};return(0,i.jsxs)("main",{className:"attendance",children:[(0,i.jsx)("h2",{className:"mb-2 mt-3 whitespace-break-spaces text-4xl font-bold text-violet-950 underline decoration-inherit decoration-2 underline-offset-4 dark:mt-0 dark:text-slate-400 md:text-6xl",children:"Attendance"}),(0,i.jsx)("section",{className:"attendance__head",children:(0,i.jsxs)("form",{className:"w-full gap-4 accent-violet-900 md:flex ",children:[(0,i.jsxs)("div",{className:"flex w-full flex-col",children:[(0,i.jsx)("label",{className:"m-1",htmlFor:"paper",children:"Select Paper"}),(0,i.jsxs)("select",{className:"mb-4 block h-10  rounded-md border-[1.5px] border-solid border-slate-400 p-1 pl-2 outline-none selection:border-slate-200 focus:border-violet-900 dark:border-slate-200 dark:caret-inherit dark:focus:border-violet-400 dark:active:border-violet-400 ",name:"paper",id:"paper",value:u,required:!0,onChange:e=>b(e.target.value),children:[(0,i.jsx)("option",{defaultValue:!0,hidden:!0,children:"---"}),e.map((e,l)=>(0,i.jsx)("option",{value:e.id,children:e.name||e.paper},l))]})]}),(0,i.jsxs)("div",{className:"flex w-full flex-col",children:[(0,i.jsx)("label",{className:"m-1",htmlFor:"date",children:"Select Date"}),(0,i.jsx)("input",{className:"mb-4 block h-10 w-full rounded-md border-[1.5px] border-solid border-slate-400 p-1 pl-2 outline-none selection:border-slate-200 focus:border-violet-900 dark:border-slate-200 dark:caret-inherit dark:focus:border-violet-400 dark:active:border-violet-400",id:"date",type:"date",name:"date",value:m,onChange:e=>p(e.target.value)})]}),(0,i.jsxs)("div",{className:"flex w-full flex-col",children:[(0,i.jsx)("label",{className:"m-1",htmlFor:"hour",children:"Select Hour"}),(0,i.jsxs)("select",{className:"mb-4 h-10 w-full rounded-md border-[1.5px] border-solid border-slate-400 p-1 pl-2 outline-none selection:border-slate-200 focus:border-violet-900 dark:border-slate-200 dark:caret-inherit dark:focus:border-violet-400 dark:active:border-violet-400",name:"hour",id:"hour",value:x,required:!0,onChange:e=>h(e.target.value),children:[(0,i.jsx)("option",{defaultValue:!0,hidden:!0,children:"---"}),(0,i.jsx)("option",{value:"1",children:"I"}),(0,i.jsx)("option",{value:"2",children:"II"}),(0,i.jsx)("option",{value:"3",children:"III"}),(0,i.jsx)("option",{value:"4",children:"IV"}),(0,i.jsx)("option",{value:"5",children:"V"})]})]}),(0,i.jsx)("div",{className:"flex items-end",children:(0,i.jsx)("button",{className:" mb-4 h-10 rounded-md border-[1.5px] border-solid border-violet-900 bg-slate-800 px-8 py-2 font-semibold tracking-wide text-slate-200 hover:bg-violet-900 focus:bg-violet-900 disabled:cursor-not-allowed dark:border-violet-300 dark:bg-violet-900 dark:text-violet-100 dark:hover:bg-slate-900 md:w-auto",type:"submit",onClick:e=>(async e=>{t([]),f(""),e.preventDefault(),u&&m&&x?setTimeout(()=>{t(c),N(!1),j("dummy_id_"+Date.now()),o.oR.success("Attendance data loaded successfully")},500):f("Please select paper, date, and hour")})(e),children:"Fetch"})})]})}),(0,i.jsx)("div",{children:v?(0,i.jsx)(n.A,{error:v}):""}),(0,i.jsx)("section",{className:"attendance__form",children:(0,i.jsxs)("form",{className:"w-full",children:[null!==l&&void 0!==l&&l.length?(0,i.jsx)("div",{className:"my-4 w-full rounded-md border-2 border-slate-900 dark:border-slate-500 dark:p-[1px] lg:w-1/2",children:(0,i.jsxs)("table",{className:"w-full",children:[(0,i.jsx)(s.h,{Headers:["Present","Student"]}),(0,i.jsx)("tbody",{children:null===l||void 0===l?void 0:l.map((e,l)=>(0,i.jsx)(s.A,{keys:l,disabled:k,value:e,handleFormChange:S},l))})]})}):"",l.length&&k?(0,i.jsxs)("div",{className:"flex gap-4",children:[(0,i.jsxs)("button",{type:"submit",className:"mb-4 flex h-10 w-auto items-center gap-2 rounded-md border-[1.5px] border-solid border-violet-900 bg-slate-800 px-6 py-2 font-semibold tracking-wide text-slate-200 hover:bg-violet-900 focus:bg-violet-900 dark:border-violet-300 dark:bg-violet-900 dark:text-violet-100 dark:hover:bg-slate-900",onClick:e=>N(!1),children:[(0,i.jsx)(d.uO9,{})," Edit"]}),(0,i.jsxs)("button",{type:"submit",className:"mb-4 flex h-10 w-auto items-center gap-2 rounded-md border-[1.5px] border-solid border-violet-900 bg-slate-800 px-4 py-2 font-semibold tracking-wide text-slate-200 hover:bg-red-700 focus:bg-violet-900 dark:border-violet-300 dark:bg-violet-900 dark:text-violet-100 dark:hover:bg-red-700",onClick:e=>(async e=>{e.preventDefault(),setTimeout(()=>{o.oR.success("Attendance deleted successfully"),t([])},500)})(e),children:[(0,i.jsx)(d.qbC,{})," Delete"]})]}):"",null!==l&&void 0!==l&&l.length&&!k?(0,i.jsxs)("button",{type:"submit",className:"mb-4 flex h-10 w-auto items-center gap-2 rounded-md border-[1.5px] border-solid border-violet-900 bg-slate-800 px-4 py-2 font-semibold tracking-wide text-slate-200 hover:bg-violet-900 focus:bg-violet-900 dark:border-violet-300 dark:bg-violet-900 dark:text-violet-100 dark:hover:bg-slate-900 ",onClick:e=>(async e=>{e.preventDefault(),setTimeout(()=>{o.oR.success("Attendance saved successfully"),N(!0),f("")},500)})(e),children:[(0,i.jsx)(d.OiG,{})," Save"]}):""]})})]})}}}]);
//# sourceMappingURL=983.916a9670.chunk.js.map